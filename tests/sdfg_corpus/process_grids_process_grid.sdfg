{
  "type": "SDFG",
  "attributes": {
    "name": "process_grids_process_grid",
    "_arrays": {
      "dims": {
        "type": "Array",
        "attributes": {
          "strides": [
            "1"
          ],
          "total_size": "2",
          "offset": [
            "0"
          ],
          "shape": [
            "2"
          ],
          "debuginfo": null
        }
      },
      "periods": {
        "type": "Array",
        "attributes": {
          "strides": [
            "1"
          ],
          "total_size": "2",
          "offset": [
            "0"
          ],
          "shape": [
            "2"
          ],
          "debuginfo": null
        }
      },
      "coords": {
        "type": "Array",
        "attributes": {
          "strides": [
            "1"
          ],
          "total_size": "2",
          "offset": [
            "0"
          ],
          "shape": [
            "2"
          ],
          "debuginfo": null
        }
      },
      "valid": {
        "type": "Array",
        "attributes": {
          "strides": [
            "1"
          ],
          "total_size": "1",
          "offset": [
            "0"
          ],
          "dtype": "bool",
          "shape": [
            "1"
          ],
          "debuginfo": null
        }
      },
      "__pgrid_0": {
        "type": "Scalar",
        "attributes": {
          "shape": [
            "1"
          ],
          "transient": true,
          "debuginfo": null
        }
      }
    },
    "symbols": {
      "P": "int32"
    },
    "global_code": {
      "frame": {
        "string_data": "",
        "language": "CPP"
      }
    },
    "init_code": {
      "frame": {
        "string_data": "__state->__pgrid_dims[0] = 1;\n__state->__pgrid_dims[1] = P;\n\n                int __pgrid_periods[2] = {0};\n                MPI_Cart_create(MPI_COMM_WORLD, 2, __state->__pgrid_dims, __pgrid_periods, 0, &__state->__pgrid_comm);\n                if (__state->__pgrid_comm != MPI_COMM_NULL) {\n                    MPI_Comm_group(__state->__pgrid_comm, &__state->__pgrid_group);\n                    MPI_Comm_rank(__state->__pgrid_comm, &__state->__pgrid_rank);\n                    MPI_Comm_size(__state->__pgrid_comm, &__state->__pgrid_size);\n                    MPI_Cart_coords(__state->__pgrid_comm, __state->__pgrid_rank, 2, __state->__pgrid_coords);\n                    __state->__pgrid_valid = true;\n                } else {\n                    __state->__pgrid_group = MPI_GROUP_NULL;\n                    __state->__pgrid_rank = MPI_PROC_NULL;\n                    __state->__pgrid_size = 0;\n                    __state->__pgrid_valid = false;\n                }\n            ",
        "language": "CPP"
      }
    },
    "exit_code": {
      "frame": {
        "string_data": "\n            if (__state->__pgrid_valid) {\n                MPI_Group_free(&__state->__pgrid_group);\n                MPI_Comm_free(&__state->__pgrid_comm);\n            }\n        ",
        "language": "CPP"
      }
    },
    "_pgrids": {
      "__pgrid": {
        "type": "ProcessGrid",
        "attributes": {
          "name": "__pgrid",
          "shape": [
            "1",
            "P"
          ]
        }
      }
    },
    "guid": "97417e5b-0028-4a22-9fa3-baa4a92227db",
    "hash": "89859fc1033a84612f86325348ec5286e3f53f41e6080ff7a4b4e9c4436a0f4f"
  },
  "nodes": [
    {
      "type": "SDFGState",
      "label": "start",
      "id": 0,
      "collapsed": false,
      "scope_dict": {
        "-1": [
          0,
          1
        ]
      },
      "nodes": [
        {
          "type": "LibraryNode",
          "label": "__pgrid",
          "attributes": {
            "fields": [
              "MPI_Comm __pgrid_comm;",
              "MPI_Group __pgrid_group;",
              "int __pgrid_coords[2];",
              "int __pgrid_dims[2];",
              "int __pgrid_rank;",
              "int __pgrid_size;",
              "bool __pgrid_valid;"
            ],
            "name": "__pgrid",
            "label": "__pgrid",
            "out_connectors": {
              "__out": null
            },
            "guid": "b0147eb9-f7b9-49a3-a746-c2c5275b61cd"
          },
          "id": 0,
          "scope_entry": null,
          "scope_exit": null,
          "classpath": "dace.libraries.mpi.nodes.dummy.Dummy"
        },
        {
          "type": "AccessNode",
          "label": "__pgrid_0",
          "attributes": {
            "debuginfo": {
              "type": "DebugInfo",
              "start_line": 1,
              "end_line": 1,
              "start_column": 0,
              "end_column": 0,
              "filename": "skipped"
            },
            "data": "__pgrid_0",
            "guid": "f51de3c5-65a1-42e7-834b-950252cc5524"
          },
          "id": 1,
          "scope_entry": null,
          "scope_exit": null
        }
      ],
      "edges": [
        {
          "type": "MultiConnectorEdge",
          "attributes": {
            "data": {
              "type": "Memlet",
              "attributes": {
                "volume": "1",
                "subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "0",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "data": "__pgrid_0",
                "debuginfo": null,
                "guid": "52fb057b-0751-411c-b5f7-da4a6cdb2aee",
                "src_subset": null,
                "dst_subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "0",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "is_data_src": false,
                "num_accesses": "1"
              }
            }
          },
          "src": "0",
          "dst": "1",
          "dst_connector": null,
          "src_connector": "__out"
        }
      ],
      "attributes": {
        "guid": "1d0db097-841e-4ba8-96f9-14dd48b6a3e4"
      }
    },
    {
      "type": "SDFGState",
      "label": "main",
      "id": 1,
      "collapsed": false,
      "scope_dict": {
        "-1": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "nodes": [
        {
          "type": "Tasklet",
          "label": "MPI_Cart_get",
          "attributes": {
            "code": {
              "string_data": "MPI_Cart_get(__state->__pgrid_comm, P, d, p, c);\nv = __state->__pgrid_valid;",
              "language": "CPP"
            },
            "debuginfo": {
              "type": "DebugInfo",
              "start_line": 1,
              "end_line": 1,
              "start_column": 0,
              "end_column": 0,
              "filename": "skipped"
            },
            "label": "MPI_Cart_get",
            "out_connectors": {
              "c": null,
              "d": null,
              "p": null,
              "v": null
            },
            "guid": "2c670934-2a0c-4f58-9599-eb1c560bdb58"
          },
          "id": 0,
          "scope_entry": null,
          "scope_exit": null
        },
        {
          "type": "AccessNode",
          "label": "dims",
          "attributes": {
            "debuginfo": {
              "type": "DebugInfo",
              "start_line": 1,
              "end_line": 1,
              "start_column": 0,
              "end_column": 0,
              "filename": "skipped"
            },
            "data": "dims",
            "guid": "86d600b2-2f6f-4a4b-9da8-1abb26943420"
          },
          "id": 1,
          "scope_entry": null,
          "scope_exit": null
        },
        {
          "type": "AccessNode",
          "label": "periods",
          "attributes": {
            "debuginfo": {
              "type": "DebugInfo",
              "start_line": 1,
              "end_line": 1,
              "start_column": 0,
              "end_column": 0,
              "filename": "skipped"
            },
            "data": "periods",
            "guid": "0fa1d981-d066-4fae-a6e1-a3cafcfe7aff"
          },
          "id": 2,
          "scope_entry": null,
          "scope_exit": null
        },
        {
          "type": "AccessNode",
          "label": "coords",
          "attributes": {
            "debuginfo": {
              "type": "DebugInfo",
              "start_line": 1,
              "end_line": 1,
              "start_column": 0,
              "end_column": 0,
              "filename": "skipped"
            },
            "data": "coords",
            "guid": "8dff433b-7cd6-40b3-b569-bd659256cf28"
          },
          "id": 3,
          "scope_entry": null,
          "scope_exit": null
        },
        {
          "type": "AccessNode",
          "label": "valid",
          "attributes": {
            "debuginfo": {
              "type": "DebugInfo",
              "start_line": 1,
              "end_line": 1,
              "start_column": 0,
              "end_column": 0,
              "filename": "skipped"
            },
            "data": "valid",
            "guid": "641de59a-c06c-4e23-8d1b-c9190f305466"
          },
          "id": 4,
          "scope_entry": null,
          "scope_exit": null
        }
      ],
      "edges": [
        {
          "type": "MultiConnectorEdge",
          "attributes": {
            "data": {
              "type": "Memlet",
              "attributes": {
                "volume": "2",
                "subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "1",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "data": "coords",
                "debuginfo": null,
                "guid": "7a8052ac-60e6-47cd-b414-6fb15a513077",
                "src_subset": null,
                "dst_subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "1",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "is_data_src": false,
                "num_accesses": "2"
              }
            }
          },
          "src": "0",
          "dst": "3",
          "dst_connector": null,
          "src_connector": "c"
        },
        {
          "type": "MultiConnectorEdge",
          "attributes": {
            "data": {
              "type": "Memlet",
              "attributes": {
                "volume": "2",
                "subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "1",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "data": "dims",
                "debuginfo": null,
                "guid": "14e7a7df-efc9-4712-85de-7994e4bf9012",
                "src_subset": null,
                "dst_subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "1",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "is_data_src": false,
                "num_accesses": "2"
              }
            }
          },
          "src": "0",
          "dst": "1",
          "dst_connector": null,
          "src_connector": "d"
        },
        {
          "type": "MultiConnectorEdge",
          "attributes": {
            "data": {
              "type": "Memlet",
              "attributes": {
                "volume": "2",
                "subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "1",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "data": "periods",
                "debuginfo": null,
                "guid": "6bd6d077-36b6-4b05-9e47-84a3fea0dccb",
                "src_subset": null,
                "dst_subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "1",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "is_data_src": false,
                "num_accesses": "2"
              }
            }
          },
          "src": "0",
          "dst": "2",
          "dst_connector": null,
          "src_connector": "p"
        },
        {
          "type": "MultiConnectorEdge",
          "attributes": {
            "data": {
              "type": "Memlet",
              "attributes": {
                "volume": "1",
                "subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "0",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "data": "valid",
                "debuginfo": null,
                "guid": "f44fa5df-95b0-4879-becf-5d0567a38c0f",
                "src_subset": null,
                "dst_subset": {
                  "type": "Range",
                  "ranges": [
                    {
                      "start": "0",
                      "end": "0",
                      "step": "1",
                      "tile": "1"
                    }
                  ]
                },
                "is_data_src": false,
                "num_accesses": "1"
              }
            }
          },
          "src": "0",
          "dst": "4",
          "dst_connector": null,
          "src_connector": "v"
        }
      ],
      "attributes": {
        "guid": "a1c634f5-83fc-4c14-b744-96fc3e553c32"
      }
    }
  ],
  "edges": [
    {
      "type": "Edge",
      "attributes": {
        "data": {
          "type": "InterstateEdge",
          "attributes": {
            "guid": "e32adc42-ff71-400a-b733-5217d6149968"
          },
          "label": ""
        }
      },
      "src": "0",
      "dst": "1"
    }
  ],
  "collapsed": false,
  "label": "",
  "id": null,
  "cfg_list_id": 0,
  "start_block": null,
  "dace_version": "1.0.0"
}